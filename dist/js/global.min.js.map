{"version":3,"sources":["../../src/js/heater.js"],"names":["fixUrl","urlPart","charAt","substring","length","getHeat","jqxhr","$","getJSON","baseUrl","obj","parseJSON","responseText","console","log","val","temperature","fail","alert","getCurrentValues","wanted","autodown","prop","autoHeatChanged","heatWantedChanged","wantedHeat","document","ready","change","this","setInterval"],"mappings":"AAEA,QAASA,QAAOC,GAKZ,MAJyB,KAArBA,EAAQC,OAAO,KACfD,EAAU,IAAMA,GACyC,OAAzDA,EAAQE,UAAUF,EAAQG,OAAS,EAAGH,EAAQG,UAC9CH,GAAW,KACRA,EAGX,QAASI,WACL,GAAIJ,GAAUD,OAAM,YAChBM,EAAQC,EAAEC,QAAQC,QAAUR,EAAS,WACjC,GAAIS,GAAMH,EAAEI,UAAUL,EAAMM,aAC5BC,SAAQC,IAAIJ,GACZH,EAAA,gBAAkBQ,IAAIL,EAAIM,eAE7BC,KAAK,WACFC,MAAK,+BAIjB,QAASC,oBACL,GAAIlB,GAAUD,OAAM,YAChBM,EAAQC,EAAEC,QAAQC,QAAUR,EAAS,WACjC,GAAIS,GAAMH,EAAEI,UAAUL,EAAMM,aAC5BC,SAAQC,IAAIJ,GACZH,EAAA,gBAAkBQ,IAAIL,EAAIM,aAC1BT,EAAA,eAAiBQ,IAAIL,EAAIU,QACL,GAAhBV,EAAIW,SACJd,EAAA,aAAee,KAAI,WAAY,GAE/Bf,EAAA,aAAee,KAAI,WAAY,KAEtCL,KAAK,WACFC,MAAK,+BAIjB,QAASK,iBAAgBb,GACrB,GAAIT,GAAU,oBAEVA,IADAS,EAAIY,KAAI,WACG,KAEA,MAEfrB,EAAUD,OAAOC,EACjB,IAAIK,GAAQC,EAAEC,QAAQC,QAAUR,EAAS,WACjC,GAAIS,GAAMH,EAAEI,UAAUL,EAAMM,aAC5BC,SAAQC,IAAIJ,GACZH,EAAA,gBAAkBQ,IAAIL,EAAIM,eAE7BC,KAAK,WACFC,MAAK,+BAIjB,QAASM,mBAAkBd,GACvB,GAAIe,GAAaf,EAAIK,KACrBd,SAAUD,OAAM,mBAAsByB,EACtC,IAAInB,GAAQC,EAAEC,QAAQC,QAAUR,QAAS,WACjC,GAAIS,GAAMH,EAAEI,UAAUL,EAAMM,aAC5BC,SAAQC,IAAIJ,GACZH,EAAA,gBAAkBQ,IAAIL,EAAIM,eAE7BC,KAAK,WACFC,MAAK,+BAlEjB,GAAIT,SAAU,uBAsEdF,GAAEmB,UAAUC,MAAM,WACdR,mBAEAZ,EAAA,aAAeqB,OAAO,WAClBL,gBAAehB,EAAGsB,SAGtBtB,EAAA,eAAiBqB,OAAO,WACpBJ,kBAAiBjB,EAAGsB,QAGZC,aAAYzB,QAAS","file":"global.min.js","sourcesContent":["var baseUrl = \"http://localhost:8080\";\r\n\r\nfunction fixUrl(urlPart) {\r\n    if (urlPart.charAt(0) != \"/\")\r\n        urlPart = \"/\" + urlPart;\r\n    if (urlPart.substring(urlPart.length - 3, urlPart.length) == \"get\")\r\n        urlPart += \"/\";\r\n    return urlPart;\r\n}\r\n\r\nfunction getHeat() {\r\n    var urlPart = fixUrl(\"temp/get\");\r\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\r\n            var obj = $.parseJSON(jqxhr.responseText);\r\n            console.log(obj);\r\n            $('#heatCurrent').val(obj.temperature);\r\n        })\r\n        .fail(function () {\r\n            alert(\"Error connecting to  API!\");\r\n        });\r\n}\r\n\r\nfunction getCurrentValues() {\r\n    var urlPart = fixUrl(\"temp/get\");\r\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\r\n            var obj = $.parseJSON(jqxhr.responseText);\r\n            console.log(obj);\r\n            $('#heatCurrent').val(obj.temperature);\r\n            $('#heatWanted').val(obj.wanted);\r\n            if (obj.autodown == false)\r\n                $('#heatAuto').prop('checked', false);\r\n            else\r\n                $('#heatAuto').prop('checked', true);\r\n        })\r\n        .fail(function () {\r\n            alert(\"Error connecting to  API!\");\r\n        });\r\n}\r\n\r\nfunction autoHeatChanged(obj) {\r\n    var urlPart = \"temp/set/autodown/\";\r\n    if (obj.prop('checked')) {\r\n        urlPart += \"on\";\r\n    } else {\r\n        urlPart += \"off\";\r\n    }\r\n    urlPart = fixUrl(urlPart);\r\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\r\n            var obj = $.parseJSON(jqxhr.responseText);\r\n            console.log(obj);\r\n            $('#heatCurrent').val(obj.temperature);\r\n        })\r\n        .fail(function () {\r\n            alert(\"Error connecting to  API!\");\r\n        });\r\n}\r\n\r\nfunction heatWantedChanged(obj) {\r\n    var wantedHeat = obj.val();\r\n    urlPart = fixUrl(\"temp/set/wanted/\" + wantedHeat);\r\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\r\n            var obj = $.parseJSON(jqxhr.responseText);\r\n            console.log(obj);\r\n            $('#heatCurrent').val(obj.temperature);\r\n        })\r\n        .fail(function () {\r\n            alert(\"Error connecting to  API!\");\r\n        });\r\n}\r\n\r\n$(document).ready(function () {\r\n    getCurrentValues();\r\n\r\n    $('#heatAuto').change(function () {\r\n        autoHeatChanged($(this));\r\n    });\r\n\r\n    $('#heatWanted').change(function () {\r\n        heatWantedChanged($(this));\r\n    });\r\n\r\n    var timer = setInterval(getHeat, 30000);\r\n});"]}