{"version":3,"sources":["../../src/js/heater.js","../../src/js/modal.js"],"names":[],"mappings":"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","file":"global.js","sourcesContent":["var baseUrl = \"http://localhost:8080\";\n\nfunction fixUrl(urlPart) {\n    if (urlPart.charAt(0) != \"/\")\n        urlPart = \"/\" + urlPart;\n    if (urlPart.substring(urlPart.length - 3, urlPart.length) == \"get\")\n        urlPart += \"/\";\n    return urlPart;\n}\n\nfunction getHeat() {\n    var urlPart = fixUrl(\"temp/get\");\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\n            var obj = $.parseJSON(jqxhr.responseText);\n            console.log(obj);\n            $('#heatCurrent').val(obj.temperature);\n        })\n        .fail(function () {\n            alert(\"Error connecting to  API!\");\n        });\n}\n\nfunction getCurrentValues() {\n    var urlPart = fixUrl(\"temp/get\");\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\n            var obj = $.parseJSON(jqxhr.responseText);\n            console.log(obj);\n            $('#heatCurrent').val(obj.temperature);\n            $('#heatWanted').val(obj.wanted);\n            if (obj.autodown == false)\n                $('#heatAuto').prop('checked', false);\n            else\n                $('#heatAuto').prop('checked', true);\n        })\n        .fail(function () {\n            alert(\"Error connecting to  API!\");\n        });\n}\n\nfunction autoHeatChanged(obj) {\n    var urlPart = \"temp/set/autodown/\";\n    if (obj.prop('checked')) {\n        urlPart += \"on\";\n    } else {\n        urlPart += \"off\";\n    }\n    urlPart = fixUrl(urlPart);\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\n            var obj = $.parseJSON(jqxhr.responseText);\n            console.log(obj);\n            $('#heatCurrent').val(obj.temperature);\n        })\n        .fail(function () {\n            alert(\"Error connecting to  API!\");\n        });\n}\n\nfunction heatWantedChanged(obj) {\n    var wantedHeat = obj.val();\n    urlPart = fixUrl(\"temp/set/wanted/\" + wantedHeat);\n    var jqxhr = $.getJSON(baseUrl + urlPart, function () {\n            var obj = $.parseJSON(jqxhr.responseText);\n            console.log(obj);\n            $('#heatCurrent').val(obj.temperature);\n        })\n        .fail(function () {\n            alert(\"Error connecting to  API!\");\n        });\n}\n\n$(document).ready(function () {\n    getCurrentValues();\n\n    $('#heatAuto').change(function () {\n        autoHeatChanged($(this));\n    });\n\n    $('#heatWanted').change(function () {\n        heatWantedChanged($(this));\n    });\n\n    //super annoying while developing\n    //var timer = setInterval(getHeat, 30000);\n});","// globale Variable für den Hostnamen\n// -> verschwindet leider beim neu laden :-(\nvar serverHostName;\n\n// Definiere pressEnter-Event, benötigt für Text-Felder\n$.fn.pressEnter = function(fn) {\n    return this.each(function() {\n        $(this).bind('enterPress', fn);\n        $(this).keyup(function(e) {\n            if (e.keyCode == 13) {\n                $(this).trigger(\"enterPress\");\n            }\n        });\n    });\n};\n\n// On Device Ready - wird nach dem Laden des Dokuments ausgeführt (wenn das DOM vollständig aufgebaut wurde)\n$(document).ready(function() {\n    onDeviceReady();\n});\n\n// Initialisierung\nfunction onDeviceReady() {\n\n    // Servername standardmäßig auf aktuellen Host aktualisieren - hier könnte man vielleicht eine HTML5-API verwenden?!\n    updateServer(location.host);\n\n    // Button #mainSetting -> Dialogfenster anzeigen\n    // (ggf. ID von mainSettings passend zu Button im Footer anpassen)\n    $(\"#mainSettings\").unbind('click').click(function() {\n        $(\"#tfdIpAdress\").val(serverHostName);\n        $(\"#dialogServer\").modal({onOpen: function (dialog) {\n            dialog.container.show();\n            /* Animiere Fade in */\n            dialog.data.fadeIn('slow');\n        }});\n    });\n\n    // Button #setServer ->Verarbeite Klick auf Button setServer\n    $('#setServer').unbind('click').click(function() {\n        // Get value from text-field\n        updateServer($('#tfdIpAdress').val());\n        // close dialog\n        $.modal.close();\n    });\n\n    // Verwende auch Enter-Taste im Textfeld\n    $(\"#tfdIpAdress\").pressEnter(function() {\n        $(\"#setServer\").trigger('click');\n    });\n\n    // Blende Willkommen-Dialog ein\n    $(\"#dialogWelcome\").modal();\n}\n\n/* Aktualisiere Server-Name */\nfunction updateServer(hostname)\n{\n    /* Default hostname: http://localhost:8080 */\n    if (hostname === \"\")\n    {\n        hostname = \"http://localhost:8080\";\n    }\n\n    /* Add http:// if no valid protocol was found in URI */\n    if ((hostname.substring(0, 7) != \"http://\") && (hostname.substring(0, 8) != \"https://\")) {\n        hostname = \"http://\" + hostname;\n    }\n    /* Remove trailing / */\n    hostname = hostname.replace(/\\/$/, \"\");\n    /* Update dialog */\n    $(\"#tfdIpAdress\").val(hostname);\n    /* Update setting - vielleicht besser mit HTML5-API?*/\n    serverHostName = hostname;\n}"]}