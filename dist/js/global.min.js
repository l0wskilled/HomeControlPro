function fixUrl(a){return"/"!=a.charAt(0)&&(a="/"+a),"get"==a.substring(a.length-3,a.length)&&(a+="/"),a}function getHeat(){var a=fixUrl("temp/get"),b=$.getJSON(baseUrl+a,function(){var a=$.parseJSON(b.responseText);console.log(a),$("#heatCurrent").val(a.temperature)}).fail(function(){alert("Error connecting to  API!")})}function getCurrentValues(){var a=fixUrl("temp/get"),b=$.getJSON(baseUrl+a,function(){var a=$.parseJSON(b.responseText);console.log(a),$("#heatCurrent").val(a.temperature),$("#heatWanted").val(a.wanted),0==a.autodown?$("#heatAuto").prop("checked",!1):$("#heatAuto").prop("checked",!0)}).fail(function(){alert("Error connecting to  API!")})}function autoHeatChanged(a){var b="temp/set/autodown/";b+=a.prop("checked")?"on":"off",b=fixUrl(b);var c=$.getJSON(baseUrl+b,function(){var a=$.parseJSON(c.responseText);console.log(a),$("#heatCurrent").val(a.temperature)}).fail(function(){alert("Error connecting to  API!")})}function heatWantedChanged(a){var b=a.val();urlPart=fixUrl("temp/set/wanted/"+b);var c=$.getJSON(baseUrl+urlPart,function(){var a=$.parseJSON(c.responseText);console.log(a),$("#heatCurrent").val(a.temperature)}).fail(function(){alert("Error connecting to  API!")})}function onDeviceReady(){updateServer(location.host),$("#mainSettings").unbind("click").click(function(){$("#tfdIpAdress").val(serverHostName),$("#dialogServer").modal({onOpen:function(a){a.container.show(),a.data.fadeIn("slow")}})}),$("#setServer").unbind("click").click(function(){updateServer($("#tfdIpAdress").val()),$.modal.close()}),$("#tfdIpAdress").pressEnter(function(){$("#setServer").trigger("click")}),$("#dialogWelcome").modal()}function updateServer(a){""===a&&(a="http://localhost:8080"),"http://"!=a.substring(0,7)&&"https://"!=a.substring(0,8)&&(a="http://"+a),a=a.replace(/\/$/,""),$("#tfdIpAdress").val(a),serverHostName=a}var baseUrl="http://localhost:8080";$(document).ready(function(){getCurrentValues(),$("#heatAuto").change(function(){autoHeatChanged($(this))}),$("#heatWanted").change(function(){heatWantedChanged($(this))})});var serverHostName;$.fn.pressEnter=function(a){return this.each(function(){$(this).bind("enterPress",a),$(this).keyup(function(a){13==a.keyCode&&$(this).trigger("enterPress")})})},$(document).ready(function(){onDeviceReady()});
//# sourceMappingURL=global.min.js.map